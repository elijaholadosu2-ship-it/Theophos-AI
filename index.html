<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theophos AI | Master Assignment Architect</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #3b82f6; --text: #f8fafc; --success: #10b981; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); padding: 15px; line-height: 1.6; }
        .container { max-width: 800px; margin: 0 auto; background: var(--card); padding: 30px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.5); }
        h1 { text-align: center; color: var(--accent); margin: 0; font-size: 1.8rem; }
        label { display: block; margin-top: 20px; font-weight: bold; color: var(--accent); font-size: 0.8rem; text-transform: uppercase; }
        select, input { width: 100%; padding: 12px; margin-top: 8px; border-radius: 10px; border: 1px solid #334155; background: #0f172a; color: white; box-sizing: border-box; }
        .btn { background: var(--accent); color: white; border: none; padding: 18px; border-radius: 10px; font-weight: bold; width: 100%; cursor: pointer; margin-top: 20px; font-size: 1rem; }
        #output-area { display: none; margin-top: 30px; border-top: 2px solid #334155; padding-top: 20px; }
        .paper-view { background: white; color: #1a1a1b; padding: 40px; border-radius: 8px; font-family: 'Georgia', serif; font-size: 1.1rem; height: 500px; overflow-y: scroll; line-height: 1.8; }
        .stats { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; }
    </style>
</head>
<body>

<script src="https://pl28368305.effectivegatecpm.com/9e/81/39/9e8139365ea358b64f4023c6b4d1074a.js"></script>

<div class="container">
    <h1>THEOPHOS ARCHITECT üèõÔ∏è</h1>
    <p style="text-align:center; opacity:0.7;">1,500+ Word Academic Assignment Generator</p>

    <label>Main Textbook</label>
    <select id="book">
        <option>Loyalty and Disloyalty</option>
        <option>The Art of Shepherding</option>
        <option>The Art of Leadership</option>
        <option>Transform Your Pastoral Ministry</option>
        <option>Catch the Anointing</option>
        <option>Steps to the Anointing</option>
        <option>The Model Marriage</option>
        <option>Church Growth</option>
        <option>The Art of Hearing</option>
        <option>Many Are Called</option>
        <option>How You Can Preach 20 Messages</option>
        <option>Name It! Claim It! Take It!</option>
    </select>

    <label>Assignment Topic / Chapter</label>
    <input type="text" id="topic" placeholder="e.g. Chapter 5: The Stages of Disloyalty">

    <label>The 3 Points for the Assignment</label>
    <input type="text" id="p1" placeholder="Point 1" style="margin-bottom:8px;">
    <input type="text" id="p2" placeholder="Point 2" style="margin-bottom:8px;">
    <input type="text" id="p3" placeholder="Point 3">

    <button class="btn" onclick="buildAssignment()">Generate 1,500 Word Assignment</button>

    <div id="output-area">
        <div class="stats">
            <span id="word-count" style="color: var(--success);">0 Words</span>
            <button onclick="downloadDoc()" style="background: var(--success); color:white; border:none; padding:8px 15px; border-radius:5px; cursor:pointer;">üíæ Download .doc</button>
        </div>
        <div id="paper" class="paper-view"></div>
    </div>
</div>

<script>
    const KEY = "AIzaSyCGIeGZP8vWmONgQmtkNQduUDWJyAArAkg";

    async function buildAssignment() {
        const book = document.getElementById('book').value;
        const topic = document.getElementById('topic').value;
        const p1 = document.getElementById('p1').value;
        const p2 = document.getElementById('p2').value;
        const p3 = document.getElementById('p3').value;
        const paper = document.getElementById('paper');

        if(!p1 || !p2 || !p3) return alert("Chale, please enter all 3 points!");

        document.getElementById('output-area').style.display = 'block';
        paper.innerHTML = "<em>Theophos is searching the archives... Writing 1,500+ words... Please wait (this takes about 30 seconds)...</em>";

        const prompt = `Write a deep, 1500-word academic assignment for Anagkazo Bible School.
        MAIN TEXTBOOK: "${book}"
        TOPIC: "${topic}"
        3 CORE POINTS TO EXPAND: 1. ${p1}, 2. ${p2}, 3. ${p3}

        MANDATORY STRUCTURE:
        1. Academic Header & Introduction (250 words).
        2. Deep Section on Point 1: Include 2 scriptures and a quote from another Dag Heward-Mills book (like 'The Art of Hearing').
        3. Deep Section on Point 2: Focus on ministry application and practical shepherding.
        4. Deep Section on Point 3: Use strong theological backing.
        5. MINISTRY STORY: A 400-word detailed story of a pastor applying these truths in a church setting.
        6. Conclusion & Practical Ministry Advice.

        Use high-level academic language and ensure the word count is very long.`;

        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1/models/gemini-pro:generateContent?key=${KEY}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
            });

            const data = await response.json();
            
            if(data.error) {
                paper.innerHTML = `<span style="color:red;">API Error: ${data.error.message}. Please check if your key has 'Gemini Pro' enabled.</span>`;
            } else {
                const text = data.candidates[0].content.parts[0].text;
                paper.innerText = text;
                const count = text.split(/\s+/).length;
                document.getElementById('word-count').innerText = count + " Words Generated";
            }
        } catch (e) {
            paper.innerHTML = "<span style='color:red;'>Connection Error: Check your internet or API key settings.</span>";
        }
    }

    function downloadDoc() {
        const content = document.getElementById('paper').innerText;
        const blob = new Blob(['\ufeff', content], { type: 'application/msword' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = "Anagkazo_Deep_Assignment.doc";
        link.click();
    }
</script>
</body>
</html>
